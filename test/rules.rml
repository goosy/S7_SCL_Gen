--- # 第1个任务

config_path: .

attributes:
  title:
    dist: 替换测试

rules:

- pattern:
    type: copy
  actions: delete
- pattern:
    type: convert
    feature: AI
  actions:
  - action: replace
    template: template.md
    distance: '{{title[$.cpu_name]}}.md'
- pattern: '*'
  actions:
  - action: replace
    output_dir: target

--- # 第2个任务

config_path: .

attributes:
  title:
    dist: 合并测试

rules:
- pattern:
    feature: [AI, alarm]
  actions:
  - action: merge
    feature: OS_alarms
    cpu_name: dist
    template: template.md
    distance: AI_alarm.md
    output_dir: '{{$.cpu_name}}'
- pattern: '*'
  actions: delete

--- # 第3个任务

config_path: .

attributes:
  title: 相交测试
rules:
- pattern:
    type: copy
  actions:
  - action: replace
    tags: { replace: true} # 对tags 来说，都是应用 join 规则
    replace_a: [old]
    replace_o:
      desc: replace object
  - action: replace
    replace_a: [new]
    replace_o:
      type: replace
  - action: join
    tags: { join: true} # 对tags 来说，都是应用 join 规则
    join_a: [old]
    join_o:
      desc: join object
  - action: join
    join_a: [new]
    join_o:
      type: join
- actions:
  - action: join
    list: new

...
